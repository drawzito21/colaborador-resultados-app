{"ast":null,"code":"var _jsxFileName = \"/home/ixcsoft/Downloads/colaborador-resultados-app-main/src/components/PerformanceChart.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport { Chart as ChartJS, LineElement, PointElement, CategoryScale, LinearScale, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(LineElement, PointElement, CategoryScale, LinearScale, Tooltip, Legend);\nexport default function PerformanceChart({\n  data,\n  theme\n}) {\n  _s();\n  const chartData = useMemo(() => {\n    const agrupadoPorMes = {};\n    data.forEach(item => {\n      const mes = `${item.MÃªs}/${item.Ano}`;\n      const score = parseFloat(item.Score);\n      const finalizados = parseInt(item.Finalizados, 10);\n      if (!agrupadoPorMes[mes]) {\n        agrupadoPorMes[mes] = {\n          scoreTotal: 0,\n          finalizadosTotal: 0,\n          count: 0\n        };\n      }\n      if (!isNaN(score)) {\n        agrupadoPorMes[mes].scoreTotal += score;\n      }\n      if (!isNaN(finalizados)) {\n        agrupadoPorMes[mes].finalizadosTotal += finalizados;\n      }\n      agrupadoPorMes[mes].count += 1;\n    });\n    const labels = Object.keys(agrupadoPorMes).sort((a, b) => {\n      // Ordenar os meses no formato \"01/2023\", \"02/2023\", etc.\n      const [ma, ya] = a.split(\"/\").map(Number);\n      const [mb, yb] = b.split(\"/\").map(Number);\n      return ya !== yb ? ya - yb : ma - mb;\n    });\n    const scorePorMes = labels.map(mes => {\n      const dados = agrupadoPorMes[mes];\n      return dados.count ? dados.scoreTotal / dados.count : 0;\n    });\n    const finalizadosPorMes = labels.map(mes => {\n      return agrupadoPorMes[mes].finalizadosTotal;\n    });\n    return {\n      labels,\n      datasets: [{\n        label: \"Score MÃ©dio\",\n        data: scorePorMes,\n        borderColor: \"#3e95cd\",\n        backgroundColor: \"#3e95cd88\",\n        tension: 0.3,\n        yAxisID: \"y\"\n      }, {\n        label: \"Finalizados\",\n        data: finalizadosPorMes,\n        borderColor: \"#ff6384\",\n        backgroundColor: \"#ff638488\",\n        tension: 0.3,\n        yAxisID: \"y1\"\n      }]\n    };\n  }, [data]);\n  const options = {\n    responsive: true,\n    interaction: {\n      mode: \"index\",\n      intersect: false\n    },\n    stacked: false,\n    plugins: {\n      legend: {\n        labels: {\n          color: theme.text\n        }\n      },\n      tooltip: {\n        callbacks: {\n          label: function (ctx) {\n            const isFinalizados = ctx.dataset.label === \"Finalizados\";\n            const valor = ctx.parsed.y;\n            return `${ctx.dataset.label}: ${isFinalizados ? valor : valor.toFixed(2)}`;\n          }\n        }\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          color: theme.text\n        }\n      },\n      y: {\n        type: \"linear\",\n        position: \"left\",\n        min: 0,\n        max: 5,\n        // se quiser que o Score fique sempre entre 0 e 5\n        ticks: {\n          stepSize: 0.25,\n          // deixa os pontos mais prÃ³ximos\n          color: theme.text\n        },\n        title: {\n          display: true,\n          text: \"Score\",\n          color: theme.text\n        }\n      },\n      y1: {\n        type: \"linear\",\n        position: \"right\",\n        grid: {\n          drawOnChartArea: false\n        },\n        min: 0,\n        max: 500,\n        // ajuste conforme a mÃ©dia de \"Finalizados\" que vocÃª tem\n        ticks: {\n          stepSize: 50,\n          color: theme.text\n        },\n        title: {\n          display: true,\n          text: \"Finalizados\",\n          color: theme.text\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 40\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        color: theme.text\n      },\n      children: \"\\uD83D\\uDCC8 Evolu\\xE7\\xE3o mensal do colaborador\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n_s(PerformanceChart, \"i4eYYg6GOj65klTCDK4mhi4wfgw=\");\n_c = PerformanceChart;\nvar _c;\n$RefreshReg$(_c, \"PerformanceChart\");","map":{"version":3,"names":["React","useMemo","Line","Chart","ChartJS","LineElement","PointElement","CategoryScale","LinearScale","Tooltip","Legend","jsxDEV","_jsxDEV","register","PerformanceChart","data","theme","_s","chartData","agrupadoPorMes","forEach","item","mes","MÃªs","Ano","score","parseFloat","Score","finalizados","parseInt","Finalizados","scoreTotal","finalizadosTotal","count","isNaN","labels","Object","keys","sort","a","b","ma","ya","split","map","Number","mb","yb","scorePorMes","dados","finalizadosPorMes","datasets","label","borderColor","backgroundColor","tension","yAxisID","options","responsive","interaction","mode","intersect","stacked","plugins","legend","color","text","tooltip","callbacks","ctx","isFinalizados","dataset","valor","parsed","y","toFixed","scales","x","ticks","type","position","min","max","stepSize","title","display","y1","grid","drawOnChartArea","style","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ixcsoft/Downloads/colaborador-resultados-app-main/src/components/PerformanceChart.js"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  LineElement,\n  PointElement,\n  CategoryScale,\n  LinearScale,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\n\nChartJS.register(LineElement, PointElement, CategoryScale, LinearScale, Tooltip, Legend);\n\nexport default function PerformanceChart({ data, theme }) {\n  const chartData = useMemo(() => {\n    const agrupadoPorMes = {};\n\n    data.forEach((item) => {\n     const mes = `${item.MÃªs}/${item.Ano}`;\n      const score = parseFloat(item.Score);\n      const finalizados = parseInt(item.Finalizados, 10);\n\n      if (!agrupadoPorMes[mes]) {\n        agrupadoPorMes[mes] = { scoreTotal: 0, finalizadosTotal: 0, count: 0 };\n      }\n\n      if (!isNaN(score)) {\n        agrupadoPorMes[mes].scoreTotal += score;\n      }\n\n      if (!isNaN(finalizados)) {\n        agrupadoPorMes[mes].finalizadosTotal += finalizados;\n      }\n\n      agrupadoPorMes[mes].count += 1;\n    });\n\n    const labels = Object.keys(agrupadoPorMes).sort((a, b) => {\n      // Ordenar os meses no formato \"01/2023\", \"02/2023\", etc.\n      const [ma, ya] = a.split(\"/\").map(Number);\n      const [mb, yb] = b.split(\"/\").map(Number);\n      return ya !== yb ? ya - yb : ma - mb;\n    });\n\n    const scorePorMes = labels.map((mes) => {\n      const dados = agrupadoPorMes[mes];\n      return dados.count ? dados.scoreTotal / dados.count : 0;\n    });\n\n    const finalizadosPorMes = labels.map((mes) => {\n      return agrupadoPorMes[mes].finalizadosTotal;\n    });\n\n    return {\n      labels,\n      datasets: [\n        {\n          label: \"Score MÃ©dio\",\n          data: scorePorMes,\n          borderColor: \"#3e95cd\",\n          backgroundColor: \"#3e95cd88\",\n          tension: 0.3,\n          yAxisID: \"y\",\n        },\n        {\n          label: \"Finalizados\",\n          data: finalizadosPorMes,\n          borderColor: \"#ff6384\",\n          backgroundColor: \"#ff638488\",\n          tension: 0.3,\n          yAxisID: \"y1\",\n        },\n      ],\n    };\n  }, [data]);\n\n    const options = {\n    responsive: true,\n    interaction: {\n      mode: \"index\",\n      intersect: false,\n    },\n    stacked: false,\n    plugins: {\n      legend: {\n        labels: {\n          color: theme.text,\n        },\n      },\n      tooltip: {\n  callbacks: {\n    label: function (ctx) {\n      const isFinalizados = ctx.dataset.label === \"Finalizados\";\n      const valor = ctx.parsed.y;\n      return `${ctx.dataset.label}: ${isFinalizados ? valor : valor.toFixed(2)}`;\n    },\n  },\n},\n\n    },\n    scales: {\n  x: {\n    ticks: { color: theme.text },\n  },\n  y: {\n    type: \"linear\",\n    position: \"left\",\n    min: 0,\n    max: 5, // se quiser que o Score fique sempre entre 0 e 5\n    ticks: {\n      stepSize: 0.25, // deixa os pontos mais prÃ³ximos\n      color: theme.text,\n    },\n    title: {\n      display: true,\n      text: \"Score\",\n      color: theme.text,\n    },\n  },\n  y1: {\n    type: \"linear\",\n    position: \"right\",\n    grid: { drawOnChartArea: false },\n    min: 0,\n    max: 500, // ajuste conforme a mÃ©dia de \"Finalizados\" que vocÃª tem\n    ticks: {\n      stepSize: 50,\n      color: theme.text,\n    },\n    title: {\n      display: true,\n      text: \"Finalizados\",\n      color: theme.text,\n    },\n  },\n}\n\n  };\n  return (\n    <div style={{ marginTop: 40 }}>\n      <h3 style={{ color: theme.text }}>ðŸ“ˆ EvoluÃ§Ã£o mensal do colaborador</h3>\n      <Line data={chartData} options={options} />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}